@(jsonString: String, form: Form[TaskData])
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    @*<taskName>Title</taskName>*@
    <script type="text/javascript" src="@routes.Assets.at("/javascripts/jquery-3.3.1.min.js")"></script> @*doesn't actually use jquery?*@
      <script>
      function parseJson() {
        var jsonString = "@jsonString";
        var json = JSON.parse(jsonString.replace(/&quot;/g,'"'));
        var taskNamesDiv = document.getElementsByClassName("taskNames")[0];
        for (i in json) {
            var p = document.createElement("p");
            p.innerHTML = json[i].taskName;
            taskNamesDiv.appendChild(p);
            var checkbox = document.createElement("input");
            checkbox.type = "checkbox";
            checkbox.id = i;
            checkbox.name = "checkbox" + String(i); //not used
            checkbox.onclick = function(i) {
                location.href= json[i].updateLink;
                }.bind(this, i); //prevent outer scope i from overwriting
            if (json[i].status == "true") { //replace with boolean
                checkbox.checked = true;
                }
            else {
                checkbox.checked = false;
                }
            //adding deletion button
            var deleteButton = document.createElement("input");
            deleteButton.type = "button";
            deleteButton.id  = i;
            deleteButton.name = "deleteButton" + String(i);
            deleteButton.value = "Delete Task";
            deleteButton.onclick = function(i) {
                location.href= json[i].updateLink; //replace with delete controller call
            }.bind(this, i);
            taskNamesDiv.appendChild(checkbox);
            taskNamesDiv.appendChild(deleteButton);
            }

        }
   </script>
</head>
<body onload="parseJson()">
<h3>Task List</h3>
<div class="taskNames"></div>
<h4>Enter new task</h4>
@helper.form(routes.ListController.httpRequestTest) {
@helper.inputText(form("taskName"), '_label -> "Task Name")

<button type="submit">Add task</button>
}
@* @jsonString    *@
</body>
</html>
